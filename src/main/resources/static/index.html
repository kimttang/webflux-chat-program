<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Babel Bridge</title>
    <link rel="icon" type="image/png" href="resource/icon/favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css' rel='stylesheet' />
</head>
<body>
<div class="container">
    <div id="auth-screen" class="content-container">
        <div class="language-selector-container">
            <select id="language-selector-auth">
                <option value="ko">한국어</option>
                <option value="en">English</option>
                <option value="ja">日本語</option>
                <option value="zh">中文</option>
                <option value="ar">العربية</option>
            </select>
        </div>
        <div id="login-form" class="form-container">
            <img src="resource/icon/logo.png" alt="Logo" class="auth-logo" data-translate-alt-key="altLogo">
            <div class="input-group"><input type="text" id="login-username"></div>
            <div class="input-group"><input type="password" id="login-password"></div>
            <button id="login-button" class="auth-button"></button>
            <p id="login-error" class="error-message hidden"></p>
            <p style="text-align: center; margin-top: 15px;"><span id="signup-prompt"></span> <a href="#" id="show-signup"></a></p>
        </div>
        <div id="signup-form" class="form-container hidden">
            <img src="resource/icon/logo.png" alt="로고" class="auth-logo">
            <div class="input-group"><input type="text" id="signup-nickname"></div>
            <div class="input-group"><input type="text" id="signup-username"></div>
            <div class="input-group"><input type="password" id="signup-password"></div>
            <button id="signup-button" class="auth-button"></button>
            <p id="signup-error" class="error-message hidden"></p>
            <p style="text-align: center; margin-top: 15px;"><span id="login-prompt"></span> <a href="#" id="show-login"></a></p>
        </div>
    </div>
    <div id="main-screen" class="main-container hidden">
        <div class="sidebar">
            <div class="sidebar-header">
                <div id="user-profile-clickable" class="user-profile">
                    <img id="profile-picture" src="" alt="Profile Picture">
                    <span id="username-display"></span>
                </div>
                <div id="chat-filter-buttons" class="filter-buttons hidden">
                    <button id="show-all-chats-button" class="filter-button active" data-translate-key="btnFilterAll">전체</button>
                    <button id="show-unread-chats-button" class="filter-button" data-translate-key="btnFilterUnread">안읽음</button>
                </div>
                <div class="header-icons-right">
                    <input type="text" id="friend-search-input" class="search-input hidden" placeholder="">
                    <div id="default-header-icons" class="icon-group">
                        <button id="show-create-room-button" class="icon-button hidden" title="">
                            <i class="fas fa-comment-medical"></i>
                        </button>
                        <button id="show-add-friend-button" class="icon-button hidden" title="">
                            <i class="fas fa-user-plus"></i>
                        </button>
                        <button id="show-friend-search-button" class="icon-button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <button id="logout-button"></button>
                </div>
            </div>
            <div class="sidebar-body">
                <ul id="friend-list" class="friend-list"></ul>
                <ul id="room-list" class="room-list hidden"></ul>
                <div id="calendar-panel" class="hidden" style="height: 100%;">
                    <div id="calendar-view" style="height: 100%;"></div>
                </div>
            </div>
            <div id="friends-action-area" class="hidden">
                <div class="add-friend-area"><input type="text" id="friend-name-input"><button id="add-friend-button" class="button"></button></div>
            </div>
            <div id="chatrooms-action-area" class="hidden">
                <div class="create-room-area">
                    <input type="text" id="room-name-input">
                    <button id="create-room-button" class="button"></button></div>
            </div>
            <div id="calendar-action-area" class="hidden">
                <button id="add-personal-event-button" class="button" style="width: 100%;">
                    <i class="fas fa-plus"></i> <span data-translate-key="btnAddPersonalEvent">새 일정 추가</span>
                </button>
            </div>
            <div class="tabs">
                <div class="tab active" data-tab="friends" id="friends-tab-button"><i class="fas fa-user"></i></div>
                <div class="tab" data-tab="chatrooms" id="chatrooms-tab-button"><i class="fas fa-comment"></i></div>
                <div class="tab" data-tab="calendar" id="calendar-tab-button"><i class="fas fa-calendar"></i></div>
            </div>
        </div>
    </div>
    <div id="chat-screen" class="chat-container hidden">
        <div class="header">
            <button id="back-to-main" class="back-button"><i class="fas fa-chevron-left"></i></button>
            <div id="chat-header-info">
                <img id="chat-room-profile-header" src="" alt="Room Profile" class="header-profile-pic" data-translate-alt-key="altRoomProfile">
                <span id="chat-room-name-header"></span>
            </div>
            <button id="show-announcement-btn" class="icon-button hidden" title=""><i class="fas fa-bullhorn"></i></button>
            <span id="search-icon"><i class="fas fa-search"></i></span>
            <button id="header-menu-btn" class="icon-button">
                <i class="fas fa-ellipsis-h"></i>
            </button>
            <div id="header-menu-popup" class="header-popup hidden">
                <button id="room-calendar-button" title="">
                    <i class="fas fa-calendar-alt"></i> <span data-translate-key="menuCalendar">캘린더</span>
                </button>
                <button id="room-gallery-button" title="">
                    <i class="fas fa-folder-open"></i> <span data-translate-key="menuGallery">사진/파일</span>
                </button>
                <button id="open-members-btn">
                    <i class="fas fa-users"></i> <span data-translate-key="menuViewParticipants">대화상대 보기</span>
                </button>
                <button id="open-invite-btn">
                    <i class="fas fa-user-plus"></i> <span data-translate-key="menuInviteParticipants">대화상대 초대</span>
                </button>
                <hr class="popup-divider">
                <button id="leave-room-btn" class="text-danger">
                    <i class="fas fa-door-open"></i> <span data-translate-key="leaveButton">채팅방 나가기</span>
                </button>
            </div>
        </div>
        <div id="announcement-bar" class="announcement-bar hidden">
            <i class="fas fa-bullhorn"></i>
            <span id="announcement-content"></span>
            <button id="hide-announcement-btn" title=""><i class="fas fa-chevron-down"></i></button>
            <button id="remove-announcement-btn" title="">&times;</button>
        </div>
        <div id="search-bar" class="search-bar hidden">
            <input type="text" id="search-input" placeholder="">
            <span id="search-nav">
    <span id="search-count">0 / 0</span>
    <button id="search-prev-button">
        <i class="fas fa-chevron-up"></i>
    </button>
    <button id="search-next-button">
        <i class="fas fa-chevron-down"></i>
    </button>
</span>
        </div>
        <div id="chat-window" class="chat-window"></div>
        <div id="typing-indicator" class="typing-indicator"></div>
        <div id="reply-bar" class="reply-bar hidden">
            <div class="reply-bar-content">
                <strong id="reply-to-user"></strong>
                <p id="reply-to-message"></p>
            </div>
            <button id="cancel-reply-button" class="cancel-reply-btn">&times;</button>
        </div>
        <div class="input-area">
            <input type="file" id="file-input" class="hidden"><button id="upload-button" class="upload-button"><i class="fas fa-file-medical"></i></button>
            <button id="translate-button"><i class="fas fa-language"></i></button>
            <select id="language-select">
                <option id="lang-none" value="" data-translate-key="langNone"></option>
                <option id="lang-en" value="en" data-translate-key="langEn"></option>
                <option id="lang-ja" value="ja" data-translate-key="langJa"></option>
                <option id="lang-zh" value="zh" data-translate-key="langZh"></option>
                <option id="lang-ar" value="ar" data-translate-key="langAr"></option>
            </select>
            <input type="text" id="message-input" placeholder=""><button id="send-button"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
</div>
<div id="profile-edit-overlay" class="modal-overlay hidden"> <div id="profile-edit-modal" class="modal">
    <div class="modal-header">
        <h2 data-translate-key="modalProfileSettingsTitle">프로필 설정</h2>
        <button id="close-profile-edit-modal" class="close-button">&times;</button>
    </div>
    <div class="modal-content profile-edit-content">
        <img id="profile-edit-preview" src="" alt="Profile Preview" data-translate-alt-key="altProfilePreview">
        <input type="file" id="profile-edit-file-input" class="hidden" accept="image/*">
        <button id="profile-edit-picture-button" class="button" data-translate-key="btnChangePicture">사진 변경</button>
        <input type="text" id="profile-edit-nickname"> <div class="profile-edit-buttons">
        <button id="profile-edit-cancel" class="button" data-translate-key="btnCancel">취소</button>
        <button id="profile-edit-save" class="button" data-translate-key="btnSave">저장</button>
    </div>
        <button id="account-delete-button" class="button button-danger button-small" data-translate-key="btnDeleteAccount">계정 탈퇴</button>
    </div>
</div>
</div>
<div id="participants-overlay" class="modal-overlay hidden">
    <div id="participants-modal" class="modal">
        <div class="modal-header">
            <h2 id="participants-title" data-translate-key="modalParticipantsTitle">대화 상대</h2>
            <button id="close-participants-modal" class="close-button">&times;</button>
        </div>
        <div id="participants-list" class="modal-content">
        </div>
    </div>
</div>
<div id="invite-friend-overlay" class="modal-overlay hidden">
    <div id="invite-friend-modal" class="modal">
        <div class="modal-header">
            <h2 id="invite-friend-title" data-translate-key="modalInviteTitle">친구 초대</h2>
            <button id="close-invite-modal-button" class="close-modal-button">&times;</button>
        </div>
        <div class="modal-body"><ul id="invite-friend-list" class="user-list"></ul></div>
    </div>
</div>
<div id="room-edit-overlay" class="modal-overlay hidden">
    <div id="room-edit-modal" class="modal">
        <div class="modal-header">
            <h2 data-translate-key="modalRoomSettingsTitle">채팅방 설정</h2>
            <button id="close-room-edit-modal" class="close-button">&times;</button>
        </div>
        <div class="modal-content profile-edit-content">
            <img id="room-edit-preview" src="" alt="Room Picture Preview" data-translate-alt-key="altRoomEditPreview">
            <input type="file" id="room-edit-file-input" class="hidden" accept="image/*">
            <button id="room-edit-picture-button" class="button" data-translate-key="btnChangePicture">사진 변경</button>
            <input type="text" id="room-edit-name" placeholder="새 채팅방 이름">
            <div class="profile-edit-buttons">
                <button id="room-edit-cancel-button" class="button" data-translate-key="btnCancel">취소</button>
                <button id="room-edit-save-button" class="button" data-translate-key="btnSave">저장</button>
            </div>
        </div>
    </div>
</div>
<div id="announce-confirm-overlay" class="modal-overlay hidden">
    <div id="announce-confirm-modal" class="modal">
        <div class="modal-header">
            <h2>공지 등록 확인</h2>
            <button id="close-announce-confirm-modal" class="close-modal-button">&times;</button>
        </div>
        <div class="modal-body">
            <p>공지로 등록하겠습니까?</p>
            <blockquote id="announce-confirm-content"></blockquote>
        </div>
        <div class="modal-buttons">
            <button id="announce-confirm-cancel" class="button button-secondary">취소</button>
            <button id="announce-confirm-post" class="button">게시</button>
        </div>
    </div>
</div>
<div id="room-calendar-overlay" class="overlay hidden">
    <div id="room-calendar-modal" class="modal modal-large">
        <div class="modal-header">
            <h2 id="room-calendar-title" data-translate-key="modalRoomCalendarTitle">채팅방 공용 캘린더</h2>
            <button id="close-room-calendar-modal" class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <div id="room-calendar-view" style="height: 500px;"></div>
        </div>
    </div>
</div>
<div id="personal-event-overlay" class="overlay hidden">
    <div id="personal-event-modal" class="modal">
        <div class="modal-header">
            <h2 data-translate-key="modalPersonalEventTitle">일정 추가</h2>
            <button id="close-personal-event-modal" class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <input type="text" id="personal-event-title" placeholder="제목">
            </div>
            <div class="form-group">
                <label for="personal-event-date"></label>
                <input type="date" id="personal-event-date">
            </div>
            <div class="form-group">
                <label for="personal-event-time"></label>
                <input type="time" id="personal-event-time">
            </div>
        </div>
        <div class="modal-buttons">
            <button id="cancel-personal-event-button" class="button button-secondary" data-translate-key="btnCancel">취소</button>
            <button id="save-personal-event-button" class="button" data-translate-key="btnSave">저장</button>
        </div>
    </div>
</div>
<div id="room-event-overlay" class="overlay hidden">
    <div id="room-event-modal" class="modal">
        <div class="modal-header">
            <h2 data-translate-key="modalRoomEventTitle">공용 일정 추가</h2>
            <button id="close-room-event-modal" class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="room-event-title"></label>
                <input type="text" id="room-event-title" placeholder="제목">
            </div>
            <div class="form-group">
                <label for="room-event-date"></label>
                <input type="date" id="room-event-date">
            </div>
            <div class="form-group">
                <label for="room-event-time"></label>
                <input type="time" id="room-event-time">
            </div>
        </div>
        <div class="modal-buttons">
            <button id="cancel-room-event-button" class="button button-secondary" data-translate-key="btnCancel">취소</button>
            <button id="save-room-event-button" class="button" data-translate-key="btnSave">저장</button>
        </div>
    </div>
</div>
<div id="room-gallery-overlay" class="overlay hidden">
    <div id="room-gallery-modal" class="modal modal-large">
        <div class="modal-header">
            <h2 id="room-gallery-title" data-translate-key="modalGalleryTitle">파일 보관함</h2>
            <button id="close-room-gallery-modal" class="close-button">&times;</button>
        </div>

        <div class="modal-tabs">
            <button class="tab-link active" data-tab="gallery-images" data-translate-key="galleryTabImages">이미지</button>
            <button class="tab-link" data-tab="gallery-files" data-translate-key="galleryTabFiles">파일</button>
        </div>

        <div class="modal-body">
            <div id="gallery-images-content" class="gallery-grid">
            </div>
            <div id="gallery-files-content" class="gallery-list hidden">
            </div>
        </div>
    </div>
</div>
<div id="toast-container" class="toast-container"></div>
<div id="choice-overlay" class="modal-overlay hidden">
    <div id="choice-modal" class="modal">
        <div class="modal-header">
            <h2 id="choice-title">제목</h2>
            <button id="choice-cancel-btn" class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <p id="choice-description">설명...</p>
        </div>
        <div id="choice-buttons" class="modal-buttons">
            <button id="choice-btn-1" class="button">선택 1</button>
            <button id="choice-btn-2" class="button button-danger">선택 2</button>
        </div>
    </div>
</div>
<div id="friend-profile-overlay" class="modal-overlay hidden">
    <div id="friend-profile-modal" class="modal">
        <div class="modal-header">
            <h2 data-translate-key="modalFriendProfileTitle">프로필</h2>
            <button id="friend-profile-close-btn" class="close-button">&times;</button>
        </div>
        <div class="modal-body friend-profile-body">
            <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png" id="friend-profile-pic" class="friend-profile-pic" alt="프로필 사진" data-translate-alt-key="altFriendProfilePicture">

            <h3 id="friend-profile-name" data-translate-key="friendProfileName">친구 이름</h3>
        </div>
        <div class="modal-buttons friend-profile-buttons">
            <button id="friend-profile-dm-btn" class="button">
                <i class="fas fa-comment"></i> <span data-translate-key="btnFriendProfileDM">1:1 채팅</span>
            </button>
            <button id="friend-profile-delete-btn" class="button button-danger">
                <i class="fas fa-user-times"></i> <span data-translate-key="btnFriendProfileDelete">친구 삭제</span>
            </button>
        </div>
    </div>
</div>
<script type="module" src="script.js"></script>
</body>
</html>