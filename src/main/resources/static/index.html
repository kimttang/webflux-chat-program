<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Babel Bridge</title>
    <link rel="icon" type="image/png" href="resource/icon/favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css' rel='stylesheet' />
</head>
<body>
<div class="container">
    <div id="auth-screen" class="content-container">
        <div class="language-selector-container">
            <select id="language-selector-auth">
                <option value="ko">한국어</option>
                <option value="en">English</option>
                <option value="ja">日本語</option>
                <option value="zh">中文</option>
                <option value="ar">العربية</option>
            </select>
        </div>
        <div id="login-form" class="form-container">
            <img src="resource/icon/logo.png" alt="로고" class="auth-logo">
            <div class="input-group"><input type="text" id="login-username"></div>
            <div class="input-group"><input type="password" id="login-password"></div>
            <button id="login-button" class="auth-button"></button>
            <p id="login-error" class="error-message hidden"></p>
            <p style="text-align: center; margin-top: 15px;"><span id="signup-prompt"></span> <a href="#" id="show-signup"></a></p>
        </div>
        <div id="signup-form" class="form-container hidden">
            <img src="resource/icon/logo.png" alt="로고" class="auth-logo">
            <div class="input-group"><input type="text" id="signup-nickname"></div>
            <div class="input-group"><input type="text" id="signup-username"></div>
            <div class="input-group"><input type="password" id="signup-password"></div>
            <button id="signup-button" class="auth-button"></button>
            <p id="signup-error" class="error-message hidden"></p>
            <p style="text-align: center; margin-top: 15px;"><span id="login-prompt"></span> <a href="#" id="show-login"></a></p>
        </div>
    </div>
    <div id="main-screen" class="main-container hidden">
        <div class="sidebar">
            <div class="sidebar-header">
                <div id="user-profile-clickable" class="user-profile">
                    <img id="profile-picture" src="" alt="Profile Picture">
                    <span id="username-display"></span>
                </div>
                <div id="chat-filter-buttons" class="filter-buttons hidden">
                    <button id="show-all-chats-button" class="filter-button active">전체</button>
                    <button id="show-unread-chats-button" class="filter-button">안읽음</button>
                </div>
                <div class="header-icons-right">
                    <input type="text" id="friend-search-input" class="search-input hidden" placeholder="닉네임으로 검색...">
                    <div id="default-header-icons" class="icon-group">
                        <button id="show-create-room-button" class="icon-button hidden" title="새 채팅방">
                            <i class="fas fa-comment-medical"></i>
                        </button>
                        <button id="show-add-friend-button" class="icon-button hidden" title="친구 추가">
                            <i class="fas fa-user-plus"></i>
                        </button>
                        <button id="show-friend-search-button" class="icon-button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <button id="logout-button"></button>
                </div>
            </div>
            <div class="sidebar-body">
                <ul id="friend-list" class="friend-list"></ul>
                <ul id="room-list" class="room-list hidden"></ul>
                <div id="calendar-panel" class="hidden" style="height: 100%;">
                    <div id="calendar-view" style="height: 100%;"></div>
                </div>
            </div>
            <div id="friends-action-area" class="hidden">
                <div class="add-friend-area"><input type="text" id="friend-name-input"><button id="add-friend-button" class="button"></button></div>
            </div>
            <div id="chatrooms-action-area" class="hidden">
                <div class="create-room-area">
                    <input type="text" id="room-name-input">
                    <button id="create-room-button" class="button"></button></div>
            </div>
            <div id="calendar-action-area" class="hidden">
                <button id="add-personal-event-button" class="button" style="width: 100%;">
                    <i class="fas fa-plus"></i> 새 일정 추가
                </button>
            </div>
            <div class="tabs">
                <div class="tab active" data-tab="friends" id="friends-tab-button"><i class="fas fa-user"></i></div>
                <div class="tab" data-tab="chatrooms" id="chatrooms-tab-button"><i class="fas fa-comment"></i></div>
                <div class="tab" data-tab="calendar" id="calendar-tab-button"><i class="fas fa-calendar"></i></div>
            </div>
        </div>
    </div>
    <div id="chat-screen" class="chat-container hidden">
        <div class="header">
            <button id="back-to-main" class="back-button">←</button>
            <div id="chat-header-info">
                <img id="chat-room-profile-header" src="" alt="Room Profile" class="header-profile-pic">
                <span id="chat-room-name-header"></span>
            </div>
            <button id="show-announcement-btn" class="icon-button hidden" title="공지 보기">📢</button>
            <span id="search-icon">🔍</span>
            <button id="room-calendar-button" class="icon-button" title="공용 캘린더">
                <i class="fas fa-calendar-alt"></i>
            </button>
            <button id="room-gallery-button" class="icon-button" title="파일 보관함">
                <i class="fas fa-folder-open"></i>
            </button>
        </div>
        <div id="announcement-bar" class="announcement-bar hidden">
            <i class="fas fa-bullhorn"></i>
            <span id="announcement-content"></span>
            <button id="hide-announcement-btn" title="공지 숨기기"><i class="fas fa-chevron-down"></i></button>
            <button id="remove-announcement-btn" title="공지 내리기">&times;</button>
        </div>
        <div id="search-bar" class="search-bar hidden">
            <input type="text" id="search-input" placeholder="메시지 검색...">

            <span id="search-nav">
        <span id="search-count">0 / 0</span>
        <button id="search-prev-button">🔼</button>
        <button id="search-next-button">🔽</button>
    </span>
        </div>
        <div id="chat-window" class="chat-window"></div>
        <div id="typing-indicator" class="typing-indicator"></div>
        <div id="reply-bar" class="reply-bar hidden">
            <div class="reply-bar-content">
                <strong id="reply-to-user"></strong>
                <p id="reply-to-message"></p>
            </div>
            <button id="cancel-reply-button" class="cancel-reply-btn">&times;</button>
        </div>
        <div class="input-area">
            <input type="file" id="file-input" class="hidden"><button id="upload-button" class="upload-button">📎</button>
            <select id="language-select">
                <option id="lang-none" value=""></option><option id="lang-en" value="en"></option><option id="lang-ja" value="ja"></option><option id="lang-zh" value="zh"></option><option id="lang-ar" value="ar"></option>
            </select>
            <input type="text" id="message-input"><button id="send-button" class="button"></button>
        </div>
    </div>
</div>
<div id="profile-edit-overlay" class="modal-overlay hidden"> <div id="profile-edit-modal" class="modal">
    <div class="modal-header">
        <h2>프로필 설정</h2>
        <button id="close-profile-edit-modal" class="close-button">&times;</button>
    </div>
    <div class="modal-content profile-edit-content">
        <img id="profile-edit-preview" src="" alt="Profile Preview">
        <input type="file" id="profile-edit-file-input" class="hidden" accept="image/*">
        <button id="profile-edit-picture-button" class="button">사진 변경</button>
        <input type="text" id="profile-edit-nickname">
        <div class="profile-edit-buttons">
            <button id="profile-edit-cancel" class="button">취소</button>
            <button id="profile-edit-save" class="button">저장</button>
        </div>
        <button id="account-delete-button" class="button button-danger button-small">계정 탈퇴</button>
    </div>
</div>
</div>
<div id="participants-overlay" class="modal-overlay hidden">
    <div id="participants-modal" class="modal">
        <div class="modal-header">
            <h2 id="participants-title">대화 상대</h2>
            <button id="close-participants-modal" class="close-button">&times;</button>
        </div>
        <div id="participants-list" class="modal-content">
        </div>
    </div>
</div>
<div id="invite-friend-overlay" class="modal-overlay hidden">
    <div id="invite-friend-modal" class="modal">
        <div class="modal-header">
            <h2 id="invite-friend-title">친구 초대</h2>
            <button id="close-invite-modal-button" class="close-modal-button">&times;</button>
        </div>
        <div class="modal-body"><ul id="invite-friend-list" class="user-list"></ul></div>
    </div>
</div>
<div id="room-edit-overlay" class="modal-overlay hidden">
    <div id="room-edit-modal" class="modal">
        <div class="modal-header">
            <h2>채팅방 설정</h2>
            <button id="close-room-edit-modal" class="close-button">&times;</button>
        </div>
        <div class="modal-content profile-edit-content">
            <img id="room-edit-preview" src="" alt="Profile Preview">
            <input type="file" id="room-edit-file-input" class="hidden" accept="image/*">
            <button id="room-edit-picture-button" class="button">사진 변경</button>
            <input type="text" id="room-edit-name" placeholder="새 채팅방 이름">
            <div class="profile-edit-buttons">
                <button id="room-edit-cancel-button" class="button">취소</button>
                <button id="room-edit-save-button" class="button">저장</button>
            </div>
        </div>
    </div>
</div>
<div id="announce-confirm-overlay" class="modal-overlay hidden">
    <div id="announce-confirm-modal" class="modal">
        <div class="modal-header">
            <h2>공지 등록 확인</h2>
            <button id="close-announce-confirm-modal" class="close-modal-button">&times;</button>
        </div>
        <div class="modal-body">
            <p>이 메시지를 공지로 등록하시겠습니까?</p>
            <blockquote id="announce-confirm-content"></blockquote>
        </div>
        <div class="modal-buttons">
            <button id="announce-confirm-cancel" class="button button-secondary">취소</button>
            <button id="announce-confirm-post" class="button">게시하기</button>
        </div>
    </div>
</div>
<div id="room-calendar-overlay" class="overlay hidden">
    <div id="room-calendar-modal" class="modal">
        <div class="modal-header">
            <h2 id="room-calendar-title">채팅방 공용 캘린더</h2>
            <button id="close-room-calendar-modal" class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <div id="room-calendar-view" style="height: 500px;"></div>
        </div>
    </div>
</div>
<div id="personal-event-overlay" class="overlay hidden">
    <div id="personal-event-modal" class="modal">
        <div class="modal-header">
            <h2>새 개인 일정</h2>
            <button id="close-personal-event-modal" class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="personal-event-title">일정 제목:</label>
                <input type="text" id="personal-event-title" placeholder="예: 기획 회의">
            </div>
            <div class="form-group">
                <label for="personal-event-date">날짜:</label>
                <input type="date" id="personal-event-date">
            </div>
            <div class="form-group">
                <label for="personal-event-time">시간:</label>
                <input type="time" id="personal-event-time">
            </div>
        </div>
        <div class="modal-buttons">
            <button id="cancel-personal-event-button" class="button button-secondary">취소</button>
            <button id="save-personal-event-button" class="button">저장하기</button>
        </div>
    </div>
</div>
<div id="room-gallery-overlay" class="overlay hidden">
    <div id="room-gallery-modal" class="modal modal-large">
        <div class="modal-header">
            <h2 id="room-gallery-title">파일 보관함</h2>
            <button id="close-room-gallery-modal" class="close-button">&times;</button>
        </div>

        <div class="modal-tabs">
            <button class="tab-link active" data-tab="gallery-images">이미지</button>
            <button class="tab-link" data-tab="gallery-files">파일</button>
        </div>

        <div class="modal-body">
            <div id="gallery-images-content" class="gallery-grid">
            </div>
            <div id="gallery-files-content" class="gallery-list hidden">
            </div>
        </div>
    </div>
</div>
<script src="script.js"></script>
</body>
</html>